{"version":3,"sources":["App.js","index.js","assets/btnConfig.js","components/Calculator.jsx"],"names":["App","Calculator","ReactDOM","render","StrictMode","document","getElementById","BTN_ACTIONS","ADD","THEME","CALC","DELETE","btns","display","action","class","btnsRef","useRef","expRef","useState","expression","setExpression","useEffect","Array","from","current","querySelectorAll","forEach","e","style","height","offsetWidth","btnClick","item","expDiv","body","classList","toggle","addAnimSpan","operator","parentNode","innerHTML","trim","length","querySelector","remove","cloneNode","appendChild","transform","offsetHeight","res","eval","toString","setTimeout","Math","floor","error","alert","content","span","createElement","opacity","width","className","ref","map","index","onClick"],"mappings":"+LAWeA,EARH,WACR,OACI,8BACI,cAACC,EAAA,EAAD,OCDZC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U,+BCT1B,wEAAMC,EAAc,CAChBC,IAAM,MACNC,MAAO,QACPC,KAAM,OACNC,OAAO,UAELC,EAAO,CACT,CACIC,QAAS,IACTC,OAAQP,EAAYI,OACpBI,MAAM,WAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,WAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,WAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,WAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,IAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,IAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,IAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,WAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,IAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,IAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,IAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,WAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,IAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,IAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,IAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,WAEV,CACIF,QAAS,eACTC,OAAQP,EAAYE,MACpBM,MAAM,IAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,IAEV,CACIF,QAAS,IACTC,OAAQP,EAAYC,IACpBO,MAAM,IAEV,CACIF,QAAS,IACTC,OAAQP,EAAYG,KACpBK,MAAM,a,qrBCtGRd,WAAa,SAAbA,aACF,IAAMe,QAAUC,kDAAO,MACjBC,OAASD,kDAAO,MAFD,UAGeE,oDAAS,IAHxB,4MAGdC,WAHc,cAGFC,cAHE,cAIrBC,sDAAU,WACOC,MAAMC,KAAKR,QAAQS,QAAQC,iBAAiB,WACpDC,SAAQ,SAAAC,GAAC,OAAIA,EAAEC,MAAMC,OAAUF,EAAEG,YAAe,UACtD,IACH,IAAMC,SAAW,SAAXA,SAAYC,MACd,IAAMC,OAAShB,OAAOO,QACtB,OAAQQ,KAAKnB,QACT,KAAKP,iDAAYE,MACbJ,SAAS8B,KAAKC,UAAUC,OAAO,QAC/B,MACJ,KAAK9B,iDAAYC,IACb8B,YAAYL,KAAKpB,SACjB,IAAM0B,SAA4B,MAAjBN,KAAKpB,QAAkBoB,KAAKpB,QAAU,IACvDQ,cAAcD,WAAamB,UAC3B,MACJ,KAAKhC,iDAAYI,OACbuB,OAAOM,WAAWd,iBAAiB,kBAAkBe,UAAY,GACjEP,OAAOO,UAAY,GACnBpB,cAAc,IACd,MACJ,KAAKd,iDAAYG,KACb,GAAGU,WAAWsB,OAAOC,QAAU,EAAG,OAElCT,OAAOM,WAAWI,cAAc,kBAAkBC,SAElD,IAAMC,UAAYZ,OAAOY,WAAU,GACnCZ,OAAOM,WAAWO,YAAYD,WAE9B,IAAME,UAAS,uBAAmBd,OAAOe,aAAe,IAAzC,iBAEf,IACI,IAAIC,IAAMC,KAAK/B,YACfC,cAAc6B,IAAIE,YAClBC,YAAW,WACPP,UAAUjB,MAAMmB,UAAYA,UAC5Bd,OAAOO,UAAY,GACnBH,YAAYgB,KAAKC,MAAU,IAAJL,KAAe,OACvC,KACL,MAAOM,OACLC,MAAMD,OACNH,YAAW,WACPP,UAAUjB,MAAMmB,UAAYA,UAC5BF,UAAUL,UAAY,iBACvB,QAObH,YAAc,SAACoB,GACjB,IAAMxB,EAAShB,OAAOO,QAChBkC,EAAOtD,SAASuD,cAAc,QAEpCD,EAAKlB,UAAYiB,EACjBC,EAAK9B,MAAMgC,QAAU,IACrB3B,EAAOa,YAAYY,GAEnB,IAAMG,EAAQH,EAAK5B,YAAc,KACjC4B,EAAK9B,MAAMiC,MAAQ,IAEnBT,YAAW,WACPM,EAAK9B,MAAMgC,QAAU,IACrBF,EAAK9B,MAAMiC,MAAQA,IACpB,MAEP,OACI,mEAAKC,UAAU,aAAf,UACI,mEAAKA,UAAU,qBAAf,UACI,kEAAKC,IAAK9C,OAAQ6C,UAAU,4BAC5B,kEAAKA,UAAU,+BAInB,kEAAKC,IAAKhD,QAAS+C,UAAU,mBAA7B,SACKnD,iDAAKqD,KAAI,SAAChC,EAAMiC,GAAP,OACN,qEAAoBH,UAAW9B,EAAKlB,MAAOoD,QAAS,kBAAMnC,SAASC,IAAnE,SACKA,EAAKpB,SADGqD,YASlBjE,mC","file":"static/js/main.97ff6b9d.chunk.js","sourcesContent":["import React from 'react';\r\nimport Calculator from './components/Calculator';\r\n\r\nconst App = () => {\r\n    return (\r\n        <div>\r\n            <Calculator />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './sass/index.scss';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);","const BTN_ACTIONS = {\r\n    ADD : \"ADD\",\r\n    THEME: \"THEME\",\r\n    CALC: \"CALC\",\r\n    DELETE:\"DELETE\"\r\n}\r\nconst btns = [\r\n    {\r\n        display: \"C\",\r\n        action: BTN_ACTIONS.DELETE,\r\n        class:\"btn__op\"\r\n    },\r\n    {\r\n        display: \"(\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"btn__op\"\r\n    },\r\n    {\r\n        display: \"(\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"btn__op\"\r\n    },\r\n    {\r\n        display: \"/\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"btn__op\"\r\n    },\r\n    {\r\n        display: \"7\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"\"\r\n    },\r\n    {\r\n        display: \"8\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"\"\r\n    },\r\n    {\r\n        display: \"9\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"\"\r\n    },\r\n    {\r\n        display: \"x\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"btn__op\"\r\n    },\r\n    {\r\n        display: \"4\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"\"\r\n    },\r\n    {\r\n        display: \"5\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"\"\r\n    },\r\n    {\r\n        display: \"6\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"\"\r\n    },\r\n    {\r\n        display: \"-\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"btn__op\"\r\n    },\r\n    {\r\n        display: \"1\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"\"\r\n    },\r\n    {\r\n        display: \"2\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"\"\r\n    },\r\n    {\r\n        display: \"3\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"\"\r\n    },\r\n    {\r\n        display: \"+\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"btn__op\"\r\n    },\r\n    {\r\n        display: \"☀️\",\r\n        action: BTN_ACTIONS.THEME,\r\n        class:\"\"\r\n    },\r\n    {\r\n        display: \"0\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"\"\r\n    },\r\n    {\r\n        display: \".\",\r\n        action: BTN_ACTIONS.ADD,\r\n        class:\"\"\r\n    },\r\n    {\r\n        display: \"=\",\r\n        action: BTN_ACTIONS.CALC,\r\n        class:\"btn__op\"\r\n    },\r\n];\r\nexport {BTN_ACTIONS, btns};","import React, { useEffect, useRef, useState } from 'react'\r\nimport { BTN_ACTIONS, btns } from \"../assets/btnConfig\";\r\n\r\nconst Calculator = () => {\r\n    const btnsRef = useRef(null);\r\n    const expRef = useRef(null);\r\n    const [expression, setExpression] = useState(\"\");\r\n    useEffect(() => {\r\n        const btns = Array.from(btnsRef.current.querySelectorAll(\"button\"));\r\n        btns.forEach(e => e.style.height = (e.offsetWidth) + \"px\");\r\n    }, [])\r\n    const btnClick = (item) => {\r\n        const expDiv = expRef.current;\r\n        switch (item.action) {\r\n            case BTN_ACTIONS.THEME:\r\n                document.body.classList.toggle(\"dark\");\r\n                break;\r\n            case BTN_ACTIONS.ADD:\r\n                addAnimSpan(item.display);\r\n                const operator = item.display !== \"x\" ? item.display : \"*\";\r\n                setExpression(expression + operator)\r\n                break;\r\n            case BTN_ACTIONS.DELETE:\r\n                expDiv.parentNode.querySelectorAll(\"div:last-child\").innerHTML = \"\";\r\n                expDiv.innerHTML = \"\";\r\n                setExpression(\"\");\r\n                break;\r\n            case BTN_ACTIONS.CALC:\r\n                if(expression.trim().length <= 0) return;\r\n                \r\n                expDiv.parentNode.querySelector(\"div:last-child\").remove();\r\n\r\n                const cloneNode = expDiv.cloneNode(true);\r\n                expDiv.parentNode.appendChild(cloneNode);\r\n\r\n                const transform = `translateY(${-(expDiv.offsetHeight + 10)}px) scale(.4)`;\r\n\r\n                try {\r\n                    let res = eval(expression);\r\n                    setExpression(res.toString());\r\n                    setTimeout(() => {\r\n                        cloneNode.style.transform = transform;\r\n                        expDiv.innerHTML = \"\";\r\n                        addAnimSpan(Math.floor(res*100000000)/100000000)\r\n                    }, 200);\r\n                } catch (error) {\r\n                    alert(error);\r\n                    setTimeout(() => {\r\n                        cloneNode.style.transform = transform;\r\n                        cloneNode.innerHTML = \"Syntax error\";\r\n                    }, 200);\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    const addAnimSpan = (content) => {\r\n        const expDiv = expRef.current;\r\n        const span = document.createElement(\"span\");\r\n\r\n        span.innerHTML = content;\r\n        span.style.opacity = \"0\";\r\n        expDiv.appendChild(span);\r\n\r\n        const width = span.offsetWidth + \"px\";\r\n        span.style.width = \"0\";\r\n\r\n        setTimeout(() => {\r\n            span.style.opacity = \"1\";\r\n            span.style.width = width;\r\n        }, 100);\r\n    }\r\n    return (\r\n        <div className=\"calculator\">\r\n            <div className=\"calculator__result\">\r\n                <div ref={expRef} className=\"calculator__result__exp\"></div>\r\n                <div className=\"calculator__result__exp\">\r\n\r\n                </div>\r\n            </div>\r\n            <div ref={btnsRef} className=\"calculator__btns\">\r\n                {btns.map((item, index) => (\r\n                    <button key={index} className={item.class} onClick={() => btnClick(item)}>\r\n                        {item.display}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Calculator\r\n"],"sourceRoot":""}